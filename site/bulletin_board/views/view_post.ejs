<%- include('header', { title: 'Post' }); %>
<%- include('nav_bar', { id: null }); %>

<!-- Page Content -->
<div class="container py-3">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">

      <div class="post-preview">
        <h2 class="post-title">
          <a data-postid="<%= post.id %>" id="thumbs_up_on" <% if (!post.liked) { %>style="display: none;"<% } %>><i class="fa fa-thumbs-up"></i></a>
          <a data-postid="<%= post.id %>" id="thumbs_up_off" <% if (post.liked) { %>style="display: none;"<% } %>><i class="fa fa-thumbs-up" style="color: #DDD;" id="thumbs_up_off"></i></a>
          <%= post.title %>
        </h2>

        <p class="post-meta">Posted by
          <%= post.author %>
          on <%= post.timestamp.toLocaleDateString() %></p>
        <p class="post-subtitle">
          <%= post.body %>
        </p>
      </div>

    </div>
  </div>

  <div class="fixed-bottom bg-light p-3">
    <div class="alert alert-danger fade show" style="display: none;" id="reply_error">
      <h4 class="alert-heading">Error!</h4> <span id="reply_error_message"></span>
    </div>
    <div class="alert alert-primary fade show" style="display: none;" id="alert">
      <h4 class="alert-heading" id="alert_heading">Replaying to:</h4> <span id="alert_message"></span>
    </div>
    <form data-postid="<%= post.id %>" data-post-title="<%= post.title %>" id="reply_form" class="container">
      <div class="row mx-auto">
        <div class="col-10">
            <input class="form-control" id="post_reply" placeholder="write reply" required></input>
        </div>
        <div class="col-2">
          <input class="btn btn-primary text-uppercase font-weight-bold" 
          type="submit" value="submit reply" id="reply_button" />
        </div>
      </div>
    </form>
    </div>
  </div>
</div>

<%- include('footer', { javascript_uri: '/javascripts/view_post.js' }); %>
